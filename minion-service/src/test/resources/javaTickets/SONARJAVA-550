{"description":"Whatever is the reason when a Java file can\u0027t be parsed, the SonarQube analysis fails with the following message:\n\n{code}\n[ERROR] [15:55:42.780] Directory contains files belonging to different packages\n{code}\n\nFollowing fix has been suggested by Tamas:\n\n{quote}\nI think I found the root cause finally. If a java source code has a parsing error, the AstScanner#parseErrorWalkAndVisit will call the SquidAstVisistor#visitFile with null (line 139). This means when the FileVisitor#visitFile calls the peekParentPackage() it will return with a package without key, so when the ResourceIndex compares (line 87) the package of the source with parsing error (which is \"\"), with the previousDirectory (which is a valid package), it will fail. \n{quote}","component":"SonarJava","component_version":"2.4"}