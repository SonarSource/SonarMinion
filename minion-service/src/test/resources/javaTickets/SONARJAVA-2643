{"description":"{code}\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\n\r\npublic class App\r\n{\r\n  public static Connection getJDBCConnectionWithFinally(String driver, String url, String user, String pwd) {\r\n\r\n    Connection con \u003d null;\r\n\r\n    try\r\n    {\r\n      Class.forName(driver);\r\n      con \u003d DriverManager.getConnection(url, user, pwd);\r\n\r\n    }\r\n    catch(ClassNotFoundException cnfe){}\r\n    catch(SQLException se){}\r\n    finally {}\r\n    return con;\r\n  }\r\n}\r\n{code}\r\nThe code above leads to the following CFG : \r\n{code}\r\nStarts at B8\r\n\r\nB8\r\n0:\tNULL_LITERAL                        \tnull\r\n1:\tVARIABLE                            \tConnection con\r\n2:\tTRY_STATEMENT                       \ttry { Class . forName ( driver ) ; con \u003d DriverManager . getConnection ( url , user , pwd ) ; } catch ( ClassNotFoundException cnfe ) { } catch ( SQLException se ) { } finally { }\r\n\tjumps to: B7\r\n\r\nB7\r\n0:\tIDENTIFIER                          \tClass\r\n1:\tIDENTIFIER                          \tdriver\r\n2:\tMETHOD_INVOCATION                   \tClass . forName ( driver )\r\n\tjumps to: B6\r\n\texceptions to: B2 B5\r\n\r\nB6\r\n0:\tIDENTIFIER                          \tDriverManager\r\n1:\tIDENTIFIER                          \turl\r\n2:\tIDENTIFIER                          \tuser\r\n3:\tIDENTIFIER                          \tpwd\r\n4:\tMETHOD_INVOCATION                   \tDriverManager . getConnection ( url , user , pwd )\r\n\tjumps to: B3\r\n\texceptions to: B2 B4\r\n\r\nB5\r\n0:\tVARIABLE                            \tClassNotFoundException cnfe\r\n\tjumps to: B2\r\n\r\nB4\r\n0:\tVARIABLE                            \tSQLException se\r\n\tjumps to: B2\r\n\r\nB3\r\n0:\tASSIGNMENT                          \tcon \u003d DriverManager . getConnection ( url , user , pwd )\r\n\tjumps to: B2\r\n\r\nB2\r\n\tjumps to: B1 B0(exit)\r\n\r\nB1\r\n0:\tIDENTIFIER                          \tcon\r\nT:\tRETURN_STATEMENT                    \treturn con ;\r\n\tjumps to: B0(exit)\r\n\r\nB0 (Exit):\r\n\r\n{code}\r\n\r\nThis lead to the wrong exploration of an exit path from the finally which lead to FP in case of unclosed resources in this case.\r\n!screenshot-1.png!\r\n\r\nAs the exit node will be reached with an open value not returned whereas this case cannot happen in practice.","component":"SonarJava","component_version":"5.1.1"}