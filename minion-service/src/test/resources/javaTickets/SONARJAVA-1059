{"description":"Original thread in ML: http://sonarqube.15.x6.nabble.com/Problem-with-squid-S2095-SonarQube-is-unable-to-analyze-file-java-lang-IndexOutOfBoundsException-tp5034933.html\n\nThe analysis of {{MyImpl.java}} (see below) triggers an error when checking the type of the variable {{data}} using {{symbol.is(\"...\")}}. Bounds are not correctly resolved.\n\nNote that the issue does not appear when all the classes are in the same file.\n\n{code:title\u003dMyClassInterface.java}\ninterface MyClassInterface {\n}\n\nclass MyClass implements MyClassInterface {\n}\n\nclass MyExtendedClass extends MyClass {\n}\n{code}\n\n{code:title\u003dMyAbstractClass.java}\npublic abstract class MyAbstractClass\u003cP extends MyClassInterface, Q extends P\u003e {\n  Q data;\n}\n{code}\n\n{code:title\u003dMyImpl.java}\npublic class MyImpl extends MyAbstractClass\u003cMyClass, MyExtendedClass\u003e {\n\n  public void foo() {\n    this.data \u003d new MyExtendedClass(); // type of data can not be resolved\n  }\n}\n{code}\n\nStack trace: \n\n{code}\nERROR: Error during Sonar runner execution\norg.sonar.runner.impl.RunnerException: Unable to execute Sonar\n        at org.sonar.runner.impl.BatchLauncher$1.delegateExecution(BatchLauncher.java:91)\n        at org.sonar.runner.impl.BatchLauncher$1.run(BatchLauncher.java:75)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.sonar.runner.impl.BatchLauncher.doExecute(BatchLauncher.java:69)\n        at org.sonar.runner.impl.BatchLauncher.execute(BatchLauncher.java:50)\n        at org.sonar.runner.api.EmbeddedRunner.doExecute(EmbeddedRunner.java:102)\n        at org.sonar.runner.api.Runner.execute(Runner.java:100)\n        at org.sonar.runner.Main.executeTask(Main.java:70)\n        at org.sonar.runner.Main.execute(Main.java:59)\n        at org.sonar.runner.Main.main(Main.java:53)\nCaused by: org.sonar.squidbridge.api.AnalysisException: SonarQube is unable to analyze file : \u0027c:\\dev\\workspaces\\eclipse\\HeadShot\\src\\main\\java\\example\\resource\\MyImpl.java\u0027\n        at org.sonar.java.ast.AstScanner.simpleScan(AstScanner.java:114)\n        at org.sonar.java.ast.AstScanner.scan(AstScanner.java:75)\n        at org.sonar.java.JavaSquid.scanSources(JavaSquid.java:132)\n        at org.sonar.java.JavaSquid.scan(JavaSquid.java:125)\n        at org.sonar.plugins.java.JavaSquidSensor.analyse(JavaSquidSensor.java:86)\n        at org.sonar.batch.phases.SensorsExecutor.executeSensor(SensorsExecutor.java:59)\n        at org.sonar.batch.phases.SensorsExecutor.execute(SensorsExecutor.java:51)\n        at org.sonar.batch.phases.DatabaseModePhaseExecutor.execute(DatabaseModePhaseExecutor.java:120)\n        at org.sonar.batch.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:264)\n        at org.sonar.api.platform.ComponentContainer.startComponents(ComponentContainer.java:92)\n        at org.sonar.api.platform.ComponentContainer.execute(ComponentContainer.java:77)\n        at org.sonar.batch.scan.ProjectScanContainer.scan(ProjectScanContainer.java:235)\n        at org.sonar.batch.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:230)\n        at org.sonar.batch.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:220)\n        at org.sonar.api.platform.ComponentContainer.startComponents(ComponentContainer.java:92)\n        at org.sonar.api.platform.ComponentContainer.execute(ComponentContainer.java:77)\n        at org.sonar.batch.scan.ScanTask.scan(ScanTask.java:57)\n        at org.sonar.batch.scan.ScanTask.execute(ScanTask.java:45)\n        at org.sonar.batch.bootstrap.TaskContainer.doAfterStart(TaskContainer.java:135)\n        at org.sonar.api.platform.ComponentContainer.startComponents(ComponentContainer.java:92)\n        at org.sonar.api.platform.ComponentContainer.execute(ComponentContainer.java:77)\n        at org.sonar.batch.bootstrap.GlobalContainer.executeTask(GlobalContainer.java:158)\n        at org.sonar.batch.bootstrapper.Batch.executeTask(Batch.java:95)\n        at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:67)\n        at org.sonar.runner.batch.IsolatedLauncher.execute(IsolatedLauncher.java:48)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.sonar.runner.impl.BatchLauncher$1.delegateExecution(BatchLauncher.java:87)\n        ... 9 more\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:635)\n        at java.util.ArrayList.get(ArrayList.java:411)\n        at org.sonar.java.resolve.JavaType$TypeVariableJavaType.erasure(JavaType.java:352)\n        at org.sonar.java.resolve.JavaType.isSubtypeOf(JavaType.java:100)\n        at org.sonar.java.checks.CloseResourceCheck.isCloseableOrAutoCloseableSubtype(CloseResourceCheck.java:185)\n        at org.sonar.java.checks.CloseResourceCheck.access$400(CloseResourceCheck.java:80)\n        at org.sonar.java.checks.CloseResourceCheck$CloseableVisitor.visitAssignmentExpression(CloseResourceCheck.java:243)\n        at org.sonar.java.model.expression.AssignmentExpressionTreeImpl.accept(AssignmentExpressionTreeImpl.java:86)\n        at org.sonar.plugins.java.api.tree.BaseTreeVisitor.scan(BaseTreeVisitor.java:42)\n        at org.sonar.plugins.java.api.tree.BaseTreeVisitor.visitExpressionStatement(BaseTreeVisitor.java:101)\n        at org.sonar.java.model.statement.ExpressionStatementTreeImpl.accept(ExpressionStatementTreeImpl.java:70)\n        at org.sonar.plugins.java.api.tree.BaseTreeVisitor.scan(BaseTreeVisitor.java:42)\n        at org.sonar.plugins.java.api.tree.BaseTreeVisitor.scan(BaseTreeVisitor.java:36)\n        at org.sonar.plugins.java.api.tree.BaseTreeVisitor.visitBlock(BaseTreeVisitor.java:85)\n        at org.sonar.java.model.statement.BlockTreeImpl.accept(BlockTreeImpl.java:91)\n        at org.sonar.java.checks.CloseResourceCheck.visitNode(CloseResourceCheck.java:167)\n        at org.sonar.java.ast.visitors.SubscriptionVisitor.visit(SubscriptionVisitor.java:94)\n        at org.sonar.java.ast.visitors.SubscriptionVisitor.visitChildren(SubscriptionVisitor.java:112)\n        at org.sonar.java.ast.visitors.SubscriptionVisitor.visit(SubscriptionVisitor.java:96)\n        at org.sonar.java.ast.visitors.SubscriptionVisitor.visitChildren(SubscriptionVisitor.java:112)\n        at org.sonar.java.ast.visitors.SubscriptionVisitor.visit(SubscriptionVisitor.java:96)\n        at org.sonar.java.ast.visitors.SubscriptionVisitor.scanTree(SubscriptionVisitor.java:72)\n        at org.sonar.java.ast.visitors.SubscriptionVisitor.scanFile(SubscriptionVisitor.java:66)\n        at org.sonar.java.checks.SubscriptionBaseVisitor.scanFile(SubscriptionBaseVisitor.java:33)\n        at org.sonar.java.model.VisitorsBridge.visitFile(VisitorsBridge.java:121)\n        at com.sonar.sslr.impl.ast.AstWalker.walkAndVisit(AstWalker.java:67)\n        at org.sonar.java.ast.AstScanner.simpleScan(AstScanner.java:107)\n        ... 38 more\n{code}","component":"SonarJava","component_version":"3.4"}