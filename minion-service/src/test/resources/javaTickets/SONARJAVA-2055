{"description":"SonarJava {{PomParser}} uses {{XMLInputFactory}} to read XML files using streams. While reading the stream, information related to location of XML elements are retrieved. While this works fine without any configuration for almost every case, it does not with IBM JVM. \r\n\r\nCurrent code assume that it will always be possible to retrieve locations. However, implementation of {{XMLInputFactory}} from IBM JVM does not compute locations by default (returning {{-1}} for starting column, starting line and character offset). In order to compute these locations when using IBM JVM, a property {{javax.xml.stream.isSupportingLocationCoordinates}} has to be explicitly enabled (default being false). For more information, see [XML reference information : XL XP-J reference information|https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.zos.80.doc/user/xml/xlxpj_reference.html].\r\n\r\nWithout setting this property, the analyzer fails to parse Maven project model with IBM JDK, as invariant verifying validity of locations are not verified.\r\n\r\n{code}\r\nError during analysis\r\njava.lang.IllegalArgumentException\r\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:108)\r\n    at org.sonar.maven.model.XmlLocation.\u003cinit\u003e(XmlLocation.java:30)\r\n    at org.sonar.maven.model.XmlLocation.getLocation(XmlLocation.java:85)\r\n    at org.sonar.java.xml.maven.PomParser$StreamListener.beforeUnmarshal(PomParser.java:80)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.fireBeforeUnmarshal(Loader.java:213)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.StructureLoader.startElement(StructureLoader.java:189)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.ProxyLoader.startElement(ProxyLoader.java:57)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:573)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:552)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleStartElement(StAXStreamConnector.java:251)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:185)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:418)\r\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:397)\r\n    at org.sonar.java.xml.maven.PomParser.parseXML(PomParser.java:60)\r\n    at org.sonar.java.xml.XmlAnalyzer.simpleScanAsPomFile(XmlAnalyzer.java:112)\r\n    at org.sonar.java.xml.XmlAnalyzer.simpleScan(XmlAnalyzer.java:99)\r\n    at org.sonar.java.xml.XmlAnalyzer.scan(XmlAnalyzer.java:81)\r\n    at org.sonar.plugins.java.XmlFileSensor.execute(XmlFileSensor.java:55)\r\n    at org.sonarsource.sonarlint.core.analyzer.sensor.SensorWrapper.analyse(SensorWrapper.java:52)\r\n    at org.sonarsource.sonarlint.core.analyzer.sensor.SensorsExecutor.executeSensor(SensorsExecutor.java:73)\r\n    at org.sonarsource.sonarlint.core.analyzer.sensor.SensorsExecutor.execute(SensorsExecutor.java:63)\r\n    at org.sonarsource.sonarlint.core.analyzer.sensor.PhaseExecutor.execute(PhaseExecutor.java:44)\r\n    at org.sonarsource.sonarlint.core.container.analysis.AnalysisContainer.doAfterStart(AnalysisContainer.java:143)\r\n    at org.sonarsource.sonarlint.core.container.ComponentContainer.startComponents(ComponentContainer.java:125)\r\n    at org.sonarsource.sonarlint.core.container.ComponentContainer.execute(ComponentContainer.java:110)\r\n    at org.sonarsource.sonarlint.core.container.storage.StorageAnalyzer.analyze(StorageAnalyzer.java:72)\r\n    at org.sonarsource.sonarlint.core.container.storage.StorageContainer.analyze(StorageContainer.java:125)\r\n    at org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.analyze(ConnectedSonarLintEngineImpl.java:158)\r\n    at org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.analyze(ConnectedSonarLintEngineImpl.java:145)\r\n    at org.sonarlint.eclipse.core.internal.server.Server.runAnalysis(Server.java:264)\r\n    at org.sonarlint.eclipse.core.internal.jobs.AnalyzeProjectJob.run(AnalyzeProjectJob.java:407)\r\n    at org.sonarlint.eclipse.core.internal.jobs.AnalyzeProjectJob$AnalysisThread.run(AnalyzeProjectJob.java:124)\r\n{code}","component":"SonarJava","component_version":"4.8"}