{"description":"SQ 4.3\njava plugin 2.2\n\nThis problem occurs when analysis is launch by maven (no problem with sonar-runner)\n\nSteps to reproduce: \n1. Install SQ 4.3 with Java Ecosystem 2.2 \n2. Run a full analysis: mvn sonar:sonar -Dsonar.verbose\u003dtrue. Should succeed. \n3. Run an incremental analysis: mvn sonar:sonar -Dsonar.analysis.mode\u003dincremental -Dsonar.verbose\u003dtrue. Should fail with similar output as below. \n4. Remove sonar-jacoco-plugin-2.2 and run an incremental analysis: mvn sonar:sonar -Dsonar.analysis.mode\u003dincremental -Dsonar.verbose\u003dtrue. succeed. \n\nThe important scenario is like this: \n\n1. Developer A changes code and commits it, build system runs a full analysis. The analysis fails because of a quality gate insufficiency. \n2. Developer B manually starts a build (for whatever reason). Even though no code has changed since the last analysis, the quality gates must still execute. Any other behavior would allow insufficient code to pass through to the artifact repository. \n\nfull log attached :\n\n[ERROR] SquidIndex can\u0027t be null \n[INFO] ------------------------------------------------------------------------ \n[INFO] BUILD FAILURE \n[INFO] ------------------------------------------------------------------------ \n[INFO] Total time: 6.352s \n[INFO] Finished at: Thu May 08 16:08:36 EDT 2014 \n[INFO] Final Memory: 29M/432M \n[INFO] ------------------------------------------------------------------------ \n[ERROR] Failed to execute goal org.codehaus.mojo:sonar-maven-plugin:2.2:sonar (default-cli) on project calculator-app: Can not execute SonarQube analysis: SquidIndex can\u0027t be null -\u003e [Help 1] \n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. \n[ERROR] Re-run Maven using the -X switch to enable full debug logging. ","component":"SonarJava","component_version":"2.2.1"}